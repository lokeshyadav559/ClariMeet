# Audio to Text to Summary Pipeline

## Project Purpose
This is a comprehensive audio-to-text-to-summary pipeline that processes audio files using Whisper for transcription 
and LMStudio for intelligent summarization.

## ğŸ—ï¸ Architecture Overview

### Core Components:

**audio_pipeline_mvp.py (20KB, 534 lines)** - Consolidated MVP pipeline orchestrator
- AudioProcessor: Handles audio preprocessing, normalization, chunking
- WhisperTranscriber: Manages Whisper model loading and transcription
- LMStudioClient: Integrates with LMStudio for OpenAI-compatible API calls
- AudioPipelineMVP: Main orchestrator that combines all components with unified interface

**setup.py (5.6KB, 166 lines)** - Environment setup and dependency management
- FFmpeg installation across platforms
- Python dependency management
- Directory structure creation

## ğŸ”„ Processing Pipeline
```
Audio File â†’ Preprocessing â†’ Whisper Transcription â†’ LMStudio Summarization â†’ Output Files
```

## ğŸš€ Current Status
The project is **production-ready** for batch audio processing with:
- âœ… Complete audio to summary pipeline
- âœ… Robust error handling
- âœ… Comprehensive logging
- âœ… Flexible configuration
- âœ… Unified interface for single and batch processing

## ğŸ“¦ Usage Examples

### Single File Processing:
```bash
python audio_pipeline_mvp.py input/episode01.mp3 \
       --output-dir output/ \
       --whisper-model large-v3 \
       --language fr \
       --lm-studio-url http://localhost:1234 \
       --lm-studio-model nous-hermes-llama3-8b
```

### Batch Processing:
```bash
python audio_pipeline_mvp.py input/recordings/ \
       --output-dir batch_output/ \
       --recursive \
       --max-workers 6 \
       --language en
```

### Output Structure:
```
output/
â”œâ”€â”€ transcript.txt
â”œâ”€â”€ summary_comprehensive.txt
â”œâ”€â”€ summary_actionable.txt
â”œâ”€â”€ summary_bullet_points.txt
â”œâ”€â”€ results.json
â””â”€â”€ audio_pipeline.log
```

## ğŸ¯ Key Features

### Audio Processing:
- âœ… Multi-format support (MP3, WAV, M4A, FLAC, etc.)
- âœ… Automatic audio normalization and preprocessing
- âœ… Intelligent chunking for long files
- âœ… Language detection and specification

### Transcription:
- âœ… Whisper integration with configurable models
- âœ… Timestamp preservation
- âœ… Batch processing capabilities
- âœ… Error handling and logging

### Summarization:
- âœ… LMStudio integration with OpenAI-compatible API
- âœ… Multiple summary types for different use cases
- âœ… Configurable model selection
- âœ… Structured output formats

### Batch Processing:
- âœ… Parallel processing with configurable workers
- âœ… Recursive file discovery
- âœ… Progress tracking and reporting
- âœ… Comprehensive error handling

## ğŸ”§ Configuration Options

| Option | Description | Default |
|--------|-------------|---------|
| `--whisper-model` | Whisper model size | `large-v3` |
| `--language` | Audio language | Auto-detect |
| `--lm-studio-url` | LM Studio server URL | `http://localhost:1234` |
| `--lm-studio-model` | Specific LM Studio model | Auto-detect |
| `--recursive` | Search subdirectories | `False` |
| `--max-workers` | Parallel workers for batch | `4` |

## ğŸš¨ Troubleshooting

- **Memory errors** â†’ Drop to medium or small Whisper models
- **GPU unavailable** â†’ Force CPU by setting `WHISPER_DEVICE=cpu` in .env
- **Accented speech** â†’ Pass `--language` explicitly
- **Silence mis-triggers** â†’ Tweak `no_speech_threshold` inside WhisperTranscriber
- **Long silences** â†’ Auto trimmed; disable by removing silence-threshold logic

## ğŸ”® Future Enhancements

- Add speaker diarisation using pyannote for multi participant calls
- Switch to Audio-Llama using an all-in-one model
- Pass WAV/MP3 directly to LM Studio chat endpoint
- Replace LM Studio with any self-hosted OpenAI compatible gateway (Ollama, vLLM)

## ğŸ“ Project Structure

```
Final MVP/
â”œâ”€â”€ audio_pipeline_mvp.py (534 lines) - Consolidated pipeline
â”œâ”€â”€ requirements.txt (19 lines) - Essential dependencies
â”œâ”€â”€ setup.py (166 lines) - Environment setup
â”œâ”€â”€ README (93 lines) - Usage documentation
â”œâ”€â”€ input/ - Audio files directory
â”œâ”€â”€ output/ - Results directory
â”œâ”€â”€ logs/ - Log files
â””â”€â”€ temp/ - Temporary processing files
```


